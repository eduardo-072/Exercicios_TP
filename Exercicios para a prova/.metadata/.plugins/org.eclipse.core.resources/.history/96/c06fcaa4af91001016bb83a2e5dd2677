package Exercicios_POO;
import Exercicios_POO.Loja;

import java.util.Scanner;

public class Main_Loja {

    public static void main(String[] args) {
        Loja lojaDSM = new Loja();

        Scanner sc = new Scanner(System.in);

        System.out.println("\n--- LOJA ---");
        lojaDSM.getProdutos();

        boolean sair = false;

        while (!sair) {
            System.out.println("\nEscolha uma opção:");
            System.out.println("1 - Comprar produto");
            System.out.println("2 - Repor produto");
            System.out.println("3 - Mostrar produtos em destaque");
            System.out.println("4 - Mostrar valor total do estoque");
            System.out.println("0 - Sair");
            System.out.print("Opção: ");
            int opcao = sc.nextInt();

            switch (opcao) {
            case 1:
                System.out.print("Digite o código do produto para comprar (1 - " + lojaDSM.getQtd() + "): ");
                int codCompra = sc.nextInt();
                System.out.print("Digite a quantidade para comprar: ");
                int qtdCompra = sc.nextInt();

                String resCompra;
                if(codCompra >=1 && codCompra <= lojaDSM.getQtd()) {
                    if(lojaDSM.qt_Estoque[codCompra - 1] >= qtdCompra) {
                        lojaDSM.comprarProduto(codCompra, qtdCompra);
                        double valorTotal = qtdCompra * lojaDSM.vl_Produtos[codCompra - 1];
                        resCompra = "Compra realizada: " + lojaDSM.nm_Produtos[codCompra - 1] +
                                    "\nQuantidade: " + qtdCompra + 
                                    "\nValor total: R$ " + valorTotal;
                    } else {
                        resCompra = "Quantidade insuficiente no estoque.";
                    }
                } else {
                    resCompra = "Código inválido!";
                }
                System.out.println(resCompra);
                break;


                case 2: 
                    System.out.print("Digite o código do produto para repor (1 - " + lojaDSM.getQtd() + "): ");
                    int codRepor = sc.nextInt();
                    System.out.print("Digite a quantidade para repor: ");
                    int qtdRepor = sc.nextInt();

                    String resRepor = lojaDSM.reporProduto(codRepor, qtdRepor);
                    System.out.println(resRepor);
                    break;

                case 3:
                    System.out.println(lojaDSM.produtosDestaque());
                    break;

                case 4:
                    System.out.println("Valor total do estoque: R$ " + lojaDSM.vl_total_Estoque());
                    break;

                case 0:
                    sair = true;
                    System.out.println("Saindo da Loja");
                    break;

                default:
                    System.out.println("Opção inválida!");
            }
        }

        sc.close();
    }
}
